#N canvas 814 114 449 293 10;
#X obj 31 238 dac~;
#X obj 31 81 noise~;
#X text 32 36 arrayfilt~ filters a sound with the contents of an array
\, so that filters can be drawn by hand;
#X floatatom 70 144 5 0 0 0 gain - -, f 5;
#X obj 31 178 *~ 0.05;
#N canvas 172 134 1229 589 array-fft-block 0;
#X obj 121 66 inlet~;
#X obj 122 415 outlet~;
#X obj 121 98 windowvec~;
#X obj 121 136 rfft~, f 6;
#X obj 187 464 block~ 1024 8;
#X obj 121 171 cartopol~;
#X obj 122 289 poltocar~;
#X obj 122 319 rifft~;
#X obj 122 382 windowvec~;
#X obj 122 349 *~ 0;
#X obj 290 185 *;
#X msg 242 107 1 1024 8;
#X obj 242 138 unpack f f f;
#X obj 242 217 /;
#X floatatom 242 249 12 0 0 0 - - -, f 12;
#X text 323 250 rescale factor;
#X obj 242 76 loadbang;
#N canvas 0 22 450 278 (subpatch) 0;
#X array arrayfilt1 513 float 3;
#A 0 0.95 0.935714 0.914285 0.909523 0.921429 0.921429 0.921429 0.921429
0.921429 0.921429 0.914286 0.907143 0.889286 0.885714 0.871429 0.850001
0.842858 0.840477 0.838096 0.835715 0.832143 0.835714 0.835714 0.835714
0.835714 0.835714 0.835714 0.835714 0.835714 0.835714 0.835714 0.835714
0.835714 0.835714 0.842857 0.842857 0.753574 0.757146 0.760717 0.764289
0.764289 0.764289 0.764289 0.764289 0.764289 0.764289 0.764289 0.757146
0.757146 0.752384 0.747622 0.74286 0.74286 0.74286 0.74286 0.74286
0.74286 0.737503 0.732146 0.726788 0.721431 0.714288 0.700002 0.69524
0.690479 0.685717 0.664288 0.642859 0.624492 0.606124 0.587757 0.569389
0.551022 0.532654 0.514287 0.428572 0.271429 0.271429 0.271429 0.271429
0.271429 0.271429 0.271429 0.271429 0.271429 0.265714 0.26 0.254286
0.248571 0.242857 0.235714 0.228571 0.214285 0.2 0.178571 0.171428
0.160714 0.114285 0.107142 0.0571415 0.021427 0.0178556 0.0142841 0.00714123
0.00714123 0.00714123 0.00714123 0.00714123 0.00714123 0.00714123 0.00624837
0.00535551 0.00446264 0.00356978 0.00267692 0.00178406 0.000891194
-1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06
-1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06
-1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06
-1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06
-1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06 -1.66893e-06
-1.66893e-06 0.00714123 0.00714123 0.00714123 0.00714123 0.00714123
0.00714123 0.00714123 0.00714123 0.00714123 0.0142841 0.0142841 0.0142841
0.0178556 0.021427 0.021427 0.0285699 0.0285699 0.0321414 0.0357128
0.0357128 0.0428557 0.0428557 0.0428557 0.0428557 0.0428557 0.0428557
0.0428557 0.0428557 0.0428557 0.0428557 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0285714
0.0285714 0.0285714 0.0285714 0.0285714 0.0285714 0.0290476 0.0295238
0.03 0.0304762 0.0309524 0.0314286 0.0319048 0.032381 0.0328572 0.0333334
0.0338096 0.0342858 0.0347619 0.0352381 0.0357143 0.0357143 0.0357143
0.0357143 0.0357143 0.0357143 0.0357143 0.0357143 0.0357143 0.0363637
0.037013 0.0376624 0.0383117 0.0389611 0.0396105 0.0402598 0.0409092
0.0415585 0.0422079 0.0428572 0.0464287 0.0500001 0.0500001 0.0500001
0.0500001 0.0500001 0.0500001 0.0500001 0.0500001 0.0517859 0.0535716
0.0553573 0.057143 0.0607145 0.0642859 0.0642859 0.0642859 0.0642859
0.0642859 0.0642859 0.0642859 0.0642859 0.0642859 0.0642859 0.0642859
0.0642859 0.0642859 0.0660717 0.0678574 0.0696431 0.0714288 0.0726193
0.0738098 0.0750003 0.0761908 0.0773813 0.0785717 0.0785717 0.0785717
0.0785717 0.0785717 0.0785717 0.0785717 0.0785717 0.0785717 0.0797622
0.0809527 0.0821432 0.0833337 0.0845242 0.0857146 0.086364 0.0870133
0.0876627 0.088312 0.0889614 0.0896108 0.0902601 0.0909095 0.0915588
0.0922082 0.0928575 0.0935069 0.0941562 0.0948056 0.095455 0.0961043
0.0967537 0.097403 0.0980524 0.0987017 0.0993511 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1
0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.1 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575 0.0928575
0.0928575 1 1;
#X coords 0 1 513 0 400 140 1 0 0;
#X restore 525 133 graph;
#X msg 428 432 \; arrayfilt1 const 0;
#X obj 678 443 tabwrite arrayfilt1;
#X msg 678 363 1 \$1;
#X obj 678 400 unpack f f;
#X floatatom 678 324 5 0 0 0 - - -, f 5;
#X text 715 323 set a range of bin gains to 1;
#X text 549 437 zero out array;
#X obj 77 227 arrayfilt~ arrayfilt1;
#X text 644 102 Size the filter to (FFT size / 2) + 1;
#X text 879 103 in this case \, 513;
#X text 934 214 draw into array to change filter properties;
#X text 542 475 flat response;
#X msg 427 469 \; arrayfilt1 const 1;
#X text 120 444 set FFT size to 1024 \, with an overlap of 8;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 5 1;
#X connect 5 0 25 0;
#X connect 5 1 25 1;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 9 0;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X connect 10 0 13 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 10 0;
#X connect 12 2 10 1;
#X connect 13 0 14 0;
#X connect 14 0 9 1;
#X connect 16 0 11 0;
#X connect 20 0 21 0;
#X connect 21 0 19 0;
#X connect 21 1 19 1;
#X connect 22 0 20 0;
#X connect 25 0 6 0;
#X connect 25 1 6 1;
#X restore 31 113 pd array-fft-block;
#X obj 26 4 cnv 15 155 25 empty empty LyonPotpourri 20 12 1 18 -260097
-204786 0;
#X text 79 224 A demonstration of using fft primitives with a simple
external that operates on bin magnitudes;
#X connect 1 0 5 0;
#X connect 3 0 4 1;
#X connect 4 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 4 0;
